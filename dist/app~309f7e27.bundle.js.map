{"version":3,"file":"app~309f7e27.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/views/pages/like-resto/favorite-resto-search-presenter.js","webpack://restaurant-apps/./src/scripts/views/pages/like-resto/favorite-resto-search-view.js","webpack://restaurant-apps/./src/scripts/views/pages/like-resto/favorite-resto-show-presenter.js","webpack://restaurant-apps/./src/scripts/views/templates/template-creator.js"],"sourcesContent":["class FavoriteRestoSearchPresenter {\r\n  constructor({ favoriteResto, view }) {\r\n    this._view = view;\r\n    this._listenToSearchRequestByUser();\r\n    this._favoriteResto = favoriteResto;\r\n  }\r\n\r\n  _listenToSearchRequestByUser() {\r\n    this._view.runWhenUserIsSearching((latestQuery) => {\r\n      this._searchResto(latestQuery);\r\n    });\r\n  }\r\n\r\n  async _searchResto(latestQuery) {\r\n    this._latestQuery = latestQuery.trim();\r\n\r\n    let foundResto;\r\n    if(this.latestQuery.length > 0) {\r\n      foundResto = await this._favoriteResto.searchResto(this.latestQuery);\r\n    } else {\r\n      foundResto = await this._favoriteResto.getAllResto();\r\n    }\r\n\r\n    this._showFoundResto(foundResto);\r\n  }\r\n\r\n  _showFoundResto(restaurants) {\r\n    this._view.showFavoriteResto(restaurants);\r\n  }\r\n\r\n  get latestQuery() {\r\n    return this._latestQuery;\r\n  }\r\n}\r\n\r\nexport default FavoriteRestoSearchPresenter;\r\n","import { createRestaurantListTemplate } from '../../templates/template-creator';\r\n\r\nclass FavoriteRestoSearchView {\r\n  getTemplate() {\r\n    return `\r\n    <div class=\"content\">\r\n      <input id=\"query\" type=\"text\" placeholder=\"ketik untuk mencari restoran favoritmu di sini :)\">\r\n      <h1 class=\"caption\">Favorite Restaurant</h1>\r\n        <div id=\"restaurants\" class=\"restaurants\">\r\n        </div>\r\n    </div>\r\n    `;\r\n  }\r\n\r\n  runWhenUserIsSearching(callback) {\r\n    document.getElementById('query').addEventListener('change', (event) => {\r\n      callback(event.target.value);\r\n    });\r\n  }\r\n\r\n  showResto(restaurants) {\r\n    this.showFavoriteResto(restaurants);\r\n  }\r\n\r\n  showFavoriteResto(restaurants = []) {\r\n    let html;\r\n    if (restaurants.length) {\r\n      html = restaurants.reduce((carry, restaurant) => carry.concat(createRestaurantListTemplate(restaurant)), '');\r\n    } else {\r\n      html = this._getEmptyRestoTemplate();\r\n    }\r\n\r\n    document.getElementById('restaurants').innerHTML = html;\r\n    document.getElementById('restaurants').dispatchEvent(new Event('resto:updated'));\r\n  }\r\n\r\n  _getEmptyRestoTemplate() {\r\n    return `\r\n    <div class=\"restaurant-list_not_found\">\r\n      Kamu belum menambah restoran favorit nih :c\r\n    </div>\r\n    `;\r\n  }\r\n}\r\n\r\nexport default FavoriteRestoSearchView;\r\n","class FavoriteRestoShowPresenter {\r\n  constructor({ view, favoriteResto }) {\r\n    this._view = view;\r\n    this._favoriteResto = favoriteResto;\r\n    \r\n    this._showFavoriteResto();\r\n  }\r\n\r\n  async _showFavoriteResto() {\r\n    const restaurants = await this._favoriteResto.getAllResto();\r\n    this._displayResto(restaurants);\r\n  }\r\n\r\n  _displayResto(restaurants) {\r\n    this._view.showFavoriteResto(restaurants);\r\n  }\r\n}\r\n\r\nexport default FavoriteRestoShowPresenter;\r\n","import 'lazysizes';\r\nimport 'lazysizes/plugins/parent-fit/ls.parent-fit';\r\nimport CONFIG from '../../globals/config';\r\n\r\nconst createRestaurantDetailTemplate = (restaurant) => `\r\n  <h1 class=\"restaurant-name\" tabindex=\"0\">${restaurant.name}</h1>\r\n  <picture>\r\n    <img class=\"restaurant-picture\" \r\n      src=\"${CONFIG.BASE_IMAGE_URL_LARGE + restaurant.pictureId}\" \r\n      srcset=\"${CONFIG.BASE_IMAGE_URL_MEDIUM + restaurant.pictureId} 480w, ${CONFIG.BASE_IMAGE_URL_LARGE + restaurant.pictureId} 1080w\"\r\n      sizes=\"80vw\" alt=\"${restaurant.name}\" />\r\n  </picture>\r\n    <div class=\"detail_restaurant\">\r\n      <h2>Information</h2>\r\n      <div class=\"restaurant-info\">\r\n        <h3>Alamat</h3>\r\n        <p>${restaurant.address}</p>\r\n        <h3>Kota</h3>\r\n        <p>${restaurant.city}</p>\r\n        <h3>Kategori</h3>\r\n        <p>${restaurant.categories.map((category) => `${category.name}`).join(' ')}</p>\r\n      </div>\r\n      <h2>Menu Restaurant</h2> \r\n      <div class=\"restaurant-menu\">\r\n        <h3>Menu Makanan</h3>\r\n        <p>${restaurant.menus.foods.map((food) => `${food.name}`).join(' - ')}</p>\r\n        <br>\r\n        <h3>Menu Minuman</h3>\r\n        <p>${restaurant.menus.drinks.map((drink) => `${drink.name}`).join(' - ')}</p>\r\n      </div> \r\n      <h2>Description</h2>\r\n      <div class=\"restaurant-description\">\r\n        <p>${restaurant.description}</p>\r\n      </div>\r\n    </div>\r\n`;\r\n\r\nconst createRestaurantReviewTemplate = (restaurant) => `\r\n  <h2>Customer Reviews</h2>\r\n  <div class=\"review-container\">\r\n    <div class=\"user-review\">\r\n      <form>\r\n        <label for=\"name-review\" class=\"caption-review\">Name</label><br>\r\n        <input type=\"text\" id=\"userName\" placeholder=\"Your name\"><br><br>\r\n        <label for=\"input-review\" class=\"caption-review\">Review</label><br>\r\n        <input type=\"text\" id=\"userReview\" placeholder=\"  Your review\"><br><br>\r\n        <button id=\"submitButton\">Submit</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <br>\r\n  <div class=\"restaurant-reviews\">\r\n    ${restaurant.customerReviews.map((review) => `\r\n      <div class=\"customer-review\">\r\n        <b>${review.name}</b>\r\n        <p>${review.date}</p>\r\n        <p>${review.review}</p>\r\n      </div>\r\n    `).join('')}\r\n  </div>\r\n`;\r\n\r\nconst createRestaurantListTemplate = (restaurants) => `\r\n  <div class=\"restaurant-list\">\r\n    <div class=\"restaurant-list_header\">\r\n      <picture>\r\n        <img class=\"restaurant-list_header_picture lazyload\" alt=\"${restaurants.name || '-'}\"\r\n          src=\"${restaurants.pictureId ? CONFIG.BASE_IMAGE_URL_MEDIUM + restaurants.pictureId : 'https://picsum.photos/id/666/800/450?grayscale'}\"\r\n          srcset=\"${CONFIG.BASE_IMAGE_URL_SMALL + restaurants.pictureId} 320w, ${CONFIG.BASE_IMAGE_URL_MEDIUM + restaurants.pictureId} 1080w\"\r\n          sizes=\"30vw\">\r\n      </picture>\r\n      <div class=\"restaurant-list_header_rating\">\r\n      <p>âœ­ <span class=\"restaurant-list_header_rating_score\">${restaurants.rating || '-'}</span></p>\r\n      </div>\r\n    </div> \r\n    <div class=\"restaurant-list_description\">\r\n      <h2 class=\"restaurant_name\"><a href=\"/#/detail/${restaurants.id}\">${restaurants.name || '-'}</a></h2>\r\n      <p>${restaurants.description || '-'}</p>\r\n    </div>  \r\n  </div>\r\n`;\r\n\r\nconst createLikeRestoButtonTemplate = () => `\r\n  <button aria-label=\"like this restaurant\" id=\"likeButton\" class=\"like\">\r\n    <i class=\"fa fa-heart-o\" aria-hidden=\"true\"></i>\r\n  </button>\r\n`;\r\n\r\nconst createUnlikeRestoButtonTemplate = () => `\r\n  <button aria-label=\"unlike this restaurant\" id=\"likeButton\" class=\"like\">\r\n    <i class=\"fa fa-heart\" aria-hidden=\"true\"></i>\r\n  </button>\r\n`;\r\n\r\nexport {\r\n  createRestaurantDetailTemplate,\r\n  createRestaurantListTemplate,\r\n  createRestaurantReviewTemplate,\r\n  createLikeRestoButtonTemplate,\r\n  createUnlikeRestoButtonTemplate,\r\n};\r\n"],"names":["favoriteResto","view","this","_view","_listenToSearchRequestByUser","_favoriteResto","runWhenUserIsSearching","latestQuery","_searchResto","_latestQuery","trim","length","searchResto","foundResto","getAllResto","_showFoundResto","restaurants","showFavoriteResto","callback","document","getElementById","addEventListener","event","target","value","html","reduce","carry","restaurant","concat","createRestaurantListTemplate","_getEmptyRestoTemplate","innerHTML","dispatchEvent","Event","_showFavoriteResto","_displayResto","createRestaurantDetailTemplate","name","CONFIG","pictureId","address","city","categories","map","category","join","menus","foods","food","drinks","drink","description","createRestaurantReviewTemplate","customerReviews","review","date","rating","id","createLikeRestoButtonTemplate","createUnlikeRestoButtonTemplate"],"sourceRoot":""}